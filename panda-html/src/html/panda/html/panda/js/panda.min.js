if(typeof Array.prototype.indexOf!="function"){Array.prototype.indexOf=function(b){for(var a=0;a<this.length;a++){if(this[a]===b){return a}}return -1}}if(typeof Array.prototype.contains!="function"){Array.prototype.contains=function(a){return this.indexOf(a)>=0}}if(typeof Array.prototype.each!="function"){Array.prototype.each=function(c,b){b=b||window;for(var a=0;a<this.length;a++){if(c.call(b,this[a],a,this)===false){break}}}}if(typeof Array.prototype.empty!="function"){Array.prototype.empty=function(){return this.splice(0,this.length)}}if(typeof Array.prototype.insert!="function"){Array.prototype.insert=function(){var a=[arguments[0],0];[].push.apply(a,[].slice.call(arguments,1));[].splice.apply(this,a);return this}}if(typeof Array.prototype.remove!="function"){Array.prototype.remove=function(b){var d=0;for(var a=this.length-1;a>=0;a--){if(this[a]===b){this.splice(a,1);d++}}return d}}if(typeof Array.prototype.removeDuplicates!="function"){Array.prototype.removeDuplicates=function(){for(var b=0;b<this.length;b++){for(var a=this.length-1;a>b;a--){if(this[b]===this[a]){this.splice(a,1)}}}}}if(typeof Date.prototype.format!="function"){Date.prototype.format=function(a){return(new DateFormat(a)).format(this)}}var DateFormat=function(a){this._init(a)};DateFormat.prototype={_init:function(d){this.pattern=d;this._patterns=[];for(var b=0;b<d.length;b++){var c=d.charAt(b);if(this._patterns.length==0){this._patterns[0]=c}else{var a=this._patterns.length-1;if(this._patterns[a].charAt(0)=="'"){if(this._patterns[a].length==1||this._patterns[a].charAt(this._patterns[a].length-1)!="'"){this._patterns[a]+=c}else{this._patterns[a+1]=c}}else{if(this._patterns[a].charAt(0)==c){this._patterns[a]+=c}else{this._patterns[a+1]=c}}}}},format:function(b){var a=[];for(var c=0;c<this._patterns.length;c++){a[c]=this._formatWord(b,this._patterns[c])}return a.join("")},_formatWord:function(a,c){var b=this._formatter[c.charAt(0)];if(b){return b.apply(this,[a,c])}else{return c}},_formatter:{y:function(a,c){var b=String(a.getFullYear());if(c.length<=2){b=b.substring(2,4)}else{b=this._zeroPadding(b,c.length)}return b},M:function(a,b){return this._zeroPadding(String(a.getMonth()+1),b.length)},d:function(a,b){return this._zeroPadding(String(a.getDate()),b.length)},H:function(a,b){return this._zeroPadding(String(a.getHours()),b.length)},h:function(a,c){var b=a.getHours();b=b>12?b-12:(b==0?12:b);return this._zeroPadding(String(b),c.length)},m:function(a,b){return this._zeroPadding(String(a.getMinutes()),b.length)},s:function(a,b){return this._zeroPadding(String(a.getSeconds()),b.length)},S:function(a,b){return this._zeroPadding(String(a.getMilliseconds()),b.length)},"'":function(a,b){if(b=="''"){return"'"}else{return b.replace(/'/g,"")}}},_zeroPadding:function(b,a){if(b.length>=a){return b}return new Array(a-b.length+1).join("0")+b},parse:function(c){if(typeof c!="string"||c==""){return null}var a={year:1970,month:1,day:1,hour:0,min:0,sec:0,msec:0};for(var b=0;b<this._patterns.length;b++){if(c==""){return null}c=this._parseWord(c,this._patterns[b],a);if(c===null){return null}}if(c!=""){return null}return new Date(a.year,a.month-1,a.day,a.hour,a.min,a.sec,a.msec)},_parseWord:function(c,b,a){var d=this._parser[b.charAt(0)];if(d){return d.apply(this,[c,b,a])}else{if(c.indexOf(b)!=0){return null}else{return c.substring(b.length)}}},_parser:{y:function(e,d,a){var b;if(d.length<=2){b=e.substring(0,2);b=b<70?"20"+b:"19"+b;e=e.substring(2)}else{var c=(d.length==3)?4:d.length;b=e.substring(0,c);e=e.substring(c)}if(!this._isNumber(b)){return null}a.year=parseInt(b,10);return e},M:function(d,b,a){var c;if(b.length==1&&d.length>1&&d.substring(0,2).match(/1[0-2]/)!=null){c=d.substring(0,2);d=d.substring(2)}else{c=d.substring(0,b.length);d=d.substring(b.length)}if(!this._isNumber(c)){return null}a.month=parseInt(c,10);return d},d:function(d,c,a){var b;if(c.length==1&&d.length>1&&d.substring(0,2).match(/1[0-9]|2[0-9]|3[0-1]/)!=null){b=d.substring(0,2);d=d.substring(2)}else{b=d.substring(0,c.length);d=d.substring(c.length)}if(!this._isNumber(b)){return null}a.day=parseInt(b,10);return d},H:function(d,c,a){var b;if(c.length==1&&d.length>1&&d.substring(0,2).match(/1[0-9]|2[0-3]/)!=null){b=d.substring(0,2);d=d.substring(2)}else{b=d.substring(0,c.length);d=d.substring(c.length)}if(!this._isNumber(b)){return null}a.hour=parseInt(b,10);return d},h:function(d,c,a){var b;if(c.length==1&&d.length>1&&d.substring(0,2).match(/1[0-2]/)!=null){b=d.substring(0,2);d=d.substring(2)}else{b=d.substring(0,c.length);d=d.substring(c.length)}if(!this._isNumber(b)){return null}a.hour=parseInt(b,10);return d},m:function(d,c,a){var b;if(c.length==1&&d.length>1&&d.substring(0,2).match(/[1-5][0-9]/)!=null){b=d.substring(0,2);d=d.substring(2)}else{b=d.substring(0,c.length);d=d.substring(c.length)}if(!this._isNumber(b)){return null}a.min=parseInt(b,10);return d},s:function(d,c,a){var b;if(c.length==1&&d.length>1&&d.substring(0,2).match(/[1-5][0-9]/)!=null){b=d.substring(0,2);d=d.substring(2)}else{b=d.substring(0,c.length);d=d.substring(c.length)}if(!this._isNumber(b)){return null}a.sec=parseInt(b,10);return d},S:function(d,b,a){var c;if(b.length==1||b.length==2){if(d.length>2&&d.substring(0,3).match(/[1-9][0-9][0-9]/)!=null){c=d.substring(0,3);d=d.substring(3)}else{if(d.length>1&&d.substring(0,2).match(/[1-9][0-9]/)!=null){c=d.substring(0,2);d=d.substring(2)}else{c=d.substring(0,b.length);d=d.substring(b.length)}}}else{c=d.substring(0,b.length);d=d.substring(b.length)}if(!this._isNumber(c)){return null}a.msec=parseInt(c,10);return d},"'":function(c,b,a){if(b=="''"){b="'"}else{b=b.replace(/'/g,"")}if(c.indexOf(b)!=0){return null}else{return c.substring(b.length)}}},_isNumber:function(a){return/^[0-9]*$/.test(a)}};if(typeof Function.prototype.callback!="function"){Function.prototype.callback=function(){var a=arguments;var b=this;return function(){return b.apply(window,a)}}}if(typeof Function.prototype.bind!="function"){Function.prototype.bind=function(){var b=arguments[0]||window;var a=Array.prototype.slice.call(arguments,1);var c=this;return function(){return c.apply(b,a)}}}if(typeof Function.prototype.delegate!="function"){Function.prototype.delegate=function(c,b,a){var d=this;return function(){var e=b||arguments;if(a===true){e=Array.prototype.slice.call(arguments,0);e=e.concat(b)}return d.apply(c||window,e)}}}if(typeof Function.prototype.delay!="function"){Function.prototype.delay=function(b,d,a){var c=this.delegate(d,a);if(b){return setTimeout(c,b)}c();return 0}}if(typeof Function.prototype.precall!="function"){Function.prototype.precall=function(b,a){if(typeof b!="function"){return this}var c=this;return function(){b.target=this;b.method=c;if(b.apply(a||this||window,arguments)===false){return}return c.apply(this||window,arguments)}}}if(typeof Function.prototype.postcall!="function"){Function.prototype.postcall=function(b,a){if(typeof b!="function"){return this}var c=this;return function(){var d=c.apply(this||window,arguments);b.apply(a||this||window,arguments);return d}}}if(typeof JSON!=="object"){JSON={}}(function(){var rx_one=/^[\],:{}\s]*$/;var rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g;var rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g;var rx_four=/(?:^|:|,)(?:\s*\[)+/g;var rx_escapable=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;var rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;function f(n){return n<10?"0"+n:n}function this_value(){return this.valueOf()}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};Boolean.prototype.toJSON=this_value;Number.prototype.toJSON=this_value;String.prototype.toJSON=this_value}var gap;var indent;var meta;var rep;function quote(string){rx_escapable.lastIndex=0;return rx_escapable.test(string)?'"'+string.replace(rx_escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i;var k;var v;var length;var mind=gap;var partial;var value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k;var v;var value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);rx_dangerous.lastIndex=0;if(rx_dangerous.test(text)){text=text.replace(rx_dangerous,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,""))){j=eval("("+text+")");return(typeof reviver==="function")?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}if(typeof JSON.sparse!=="function"){JSON.sparse=function(v,r){try{return JSON.parse(v,r)}catch(e){return null}}}}());function DecimalFormat(b){this.prefix="";this.suffix="";this.comma=0;this.minInt=1;this.minFrac=0;this.maxFrac=0;for(var e=0;e<b.length;e++){if(b.charAt(e)=="#"||b.charAt(e)=="0"){this.prefix=b.substring(0,e);b=b.substring(e);break}}this.suffix=b.replace(/[#]|[0]|[,]|[.]/g,"");var h=b.replace(/[^0#,.]/g,"");var g="";var d="";var a=h.indexOf(".");if(a!=-1){g=h.substring(0,a);d=h.substring(a+1)}else{g=h}var j=g.lastIndexOf(",");if(j!=-1){this.comma=g.length-1-j}g=g.replace(/[,]/g,"");d=d.replace(/[,]|[.]+/g,"");this.maxFrac=d.length;var c=g.replace(/[^0]/g,"");if(c.length>this.minInt){this.minInt=c.length}c=d.replace(/[^0]/g,"");this.minFrac=c.length}DecimalFormat.prototype.format=function(u){var v=this.parse(u).toLowerCase();if(isNaN(v)||v.length==0){return u}if(l=v.indexOf("e")!=-1){var d=Number(v);if(d=="Infinity"||d=="-Infinity"){return v}v=d+"";if(v.indexOf("e")!=-1){return v}}var g=false;if(v.charAt(0)=="-"){g=true;v=v.substring(1)}else{if(v.charAt(0)=="+"){v=v.substring(1)}}var t=v.indexOf(".");var a="";var q="";if(t!=-1){a=v.substring(0,t);q=v.substring(t+1)}else{a=v}q=q.replace(/[.]/,"");var o=this.suffix&&this.suffix.charAt(0)==="%";var b=this.minInt,e=this.minFrac,w=this.maxFrac;if(o){b-=2;e+=2;w+=2}if(q.length>w){var m=new Number("0."+q);m=(w==0)?Math.round(m):m.toFixed(w);q=m.toString(10).substr(2);var p=(m>=1)?1:0;var r,l=a.length-1;while(p){if(l==-1){a="1"+a;break}else{r=a.charAt(l);if(r==9){r="0";p=1}else{r=(++r)+"";p=0}a=a.substring(0,l)+r+a.substring(l+1,a.length);l--}}}for(var l=q.length;l<e;l++){q=q+"0"}while(q.length>e&&q.charAt(q.length-1)=="0"){q=q.substring(0,q.length-1)}for(var l=a.length;l<b;l++){a="0"+a}while(a.length>b&&a.charAt(0)=="0"){a=a.substring(1)}if(o){a+=q.substring(0,2);q=q.substring(2)}var h=0;for(var l=a.length;l>0;l--){if(h!=0&&h%this.comma==0){a=a.substring(0,l)+","+a.substring(l);h=0}h++}var k;if(q.length>0){k=this.prefix+a+"."+q+this.suffix}else{k=this.prefix+a+this.suffix}if(g){k="-"+k}return k};DecimalFormat.prototype.parse=function(e){e+="";if(!e){return""}if(!isNaN(e)){return this.getNumericString(e)}var b=e;var a=false;if(e.charAt(0)=="-"){b=b.substr(1);a=true}var d=b.indexOf(this.prefix);var c=(this.suffix=="")?b.length:b.indexOf(this.suffix,this.prefix.length+1);if(d==0&&c>0){b=b.substr(0,c);b=b.substr(this.prefix.length);b=b.replace(/,/g,"");if(a){b="-"+b}if(!isNaN(b)){return this.getNumericString(b)}}return e};DecimalFormat.prototype.getNumericString=function(d){var a=new Number(d);var c=a+"";if(d.indexOf(".")>-1&&c.indexOf(".")<0){for(var b=d.indexOf(".")+1;b<d.length;b++){if(d.charAt(b)!=="0"){return d}}return c}return d};if(typeof Number.trim!="function"){Number.trim=function(d){if(typeof(d)!="string"){return d}var c="1234567890";var e="１２３４５６７８９０";var b=d.replace(/,/g,"").split("");for(i=0;i<b.length;i++){var a=e.indexOf(b[i]);if(a>=0){b[i]=c[a]}}return b.join("")}}if(typeof Number.parseInt!="function"){Number.parseInt=function(a,b){return parseInt(Number.trim(a),b)}}if(typeof Number.parseFloat!="function"){Number.parseFloat=function(a){return parseFloat(Number.trim(a))}}if(typeof Number.format!="function"){Number.format=function(a,b){return(new DecimalFormat(a)).format(b)}}if(typeof Number.comma!="function"){var CDF=new DecimalFormat("###,###.#########");Number.comma=function(a){return CDF.format(a)}}if(typeof Number.formatSize!="function"){var KB=1024,MB=KB*KB,GB=MB*KB,TB=GB*KB,PB=TB*KB;Number.formatSize=function(c,b){b=Math.pow(10,b||2);var a="";if(c>=PB){a=Math.round(c*b/PB)/b+" PB"}else{if(c>=TB){a=Math.round(c*b/TB)/b+" TB"}else{if(c>=GB){a=Math.round(c*b/GB)/b+" GB"}else{if(c>=MB){a=Math.round(c*b/MB)/b+" MB"}else{if(c>=KB){a=Math.round(c*b/KB)/b+" KB"}else{if(c!=""){a=c+" bytes"}}}}}}return a}}if(typeof String.prototype.hashCode!="function"){String.prototype.hashCode=function(){var b=0;for(var a=0;a<this.length;a++){b=((b<<5)-b)+this.charCodeAt(a);b|=0}return b}}if(typeof String.prototype.isEmpty!="function"){String.prototype.isEmpty=function(a){return this.length<1}}if(typeof String.prototype.contains!="function"){String.prototype.contains=function(a){return this.indexOf(a)>=0}}if(typeof String.prototype.trimLeft!="function"){var re=/^\s+/;String.prototype.trimLeft=function(){return this.replace(re,"")}}if(typeof String.prototype.trimRight!="function"){var re=/\s+$/;String.prototype.trimRight=function(){return this.replace(re,"")}}if(typeof String.prototype.trim!="function"){var re=/^\s+|\s+$/g;String.prototype.trim=function(){return this.replace(re,"")}}if(typeof String.prototype.stripLeft!="function"){var re=/^[\s\u3000]+/;String.prototype.stripLeft=function(){return this.replace(re,"")}}if(typeof String.prototype.stripRight!="function"){var re=/[\s\u3000]+$/;String.prototype.stripRight=function(){return this.replace(re,"")}}if(typeof String.prototype.strip!="function"){var re=/^[\s\u3000]+|[\s\u3000]+$/g;String.prototype.strip=function(){return this.replace(re,"")}}if(typeof String.prototype.left!="function"){String.prototype.left=function(a){return this.slice(0,a)}}if(typeof String.prototype.mid!="function"){String.prototype.mid=String.prototype.substr}if(typeof String.prototype.right!="function"){String.prototype.right=function(a){if(a>=this.length){return this}return this.substr(this.length-a,a)}}if(typeof String.prototype.leftPad!="function"){String.prototype.leftPad=function(c,a){a=a||" ";var b=this;while(b.length<c){b=a+b}return b}}if(typeof String.prototype.rightPad!="function"){String.prototype.rightPad=function(c,a){a=a||" ";var b=this;while(b.length<c){b+=chr}return b}}if(typeof String.prototype.startsWith!="function"){String.prototype.startsWith=function(b,a){return this.indexOf(b)==(a||0)}}if(typeof String.prototype.endsWith!="function"){String.prototype.endsWith=function(a){return this.startsWith(a,this.length-a.length)}}if(typeof String.prototype.capitalize!="function"){String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)}}if(typeof String.prototype.uncapitalize!="function"){String.prototype.uncapitalize=function(){return this.charAt(0).toLowerCase()+this.slice(1)}}if(typeof String.prototype.snakeCase!="function"){String.prototype.snakeCase=function(b){b=b||"_";var a=this.camelCase();return a.replace(/[A-Z]/g,function(c){return b+c.charAt(0).toLowerCase()})}}if(typeof String.prototype.camelCase!="function"){String.prototype.camelCase=function(){s=this.charAt(0).toLowerCase()+this.slice(1);return s.replace(/[-_](.)/g,function(a,b){return b.toUpperCase()})}}if(typeof String.prototype.pascalCase!="function"){String.prototype.pascalCase=function(a){return this.camelCase().capitalize()}}if(typeof String.prototype.format!="function"){String.prototype.format=function(){var a=arguments;return this.replace(/\{(\d+)\}/g,function(b,c){return a[c]})}}if(typeof String.prototype.substrAfter!="function"){String.prototype.substrAfter=function(d){var b=this,a=b.indexOf(d);return(a>=0)?b.slice(a+1):""}}if(typeof String.prototype.substrBefore!="function"){String.prototype.substrBefore=function(d){var b=this,a=b.indexOf(d);return(a>=0)?b.slice(0,a):b}}if(typeof String.prototype.ellipsis!="function"){String.prototype.ellipsis=function(a){if(this.length>a){return this.substr(0,a-3)+"..."}return this}}if(typeof String.prototype.ellipsiz!="function"){String.prototype.ellipsiz=function(a){var c=0;for(var b=0;b<this.length;b++){c++;if(this.charCodeAt(b)>255){c++}if(c>a){return this.slice(0,b)+"..."}}return this}}if(typeof String.prototype.escapeRegExp!="function"){String.prototype.escapeRegExp=function(){return this.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}}if(typeof String.prototype.escapeHtml!="function"){var ehm={"&":"&amp;","'":"&apos;","`":"&#x60;",'"':"&quot;","<":"&lt;",">":"&gt;"};String.prototype.escapeHtml=function(){return this.replace(/[&'`"<>]/g,function(a){return ehm[a]})}}if(typeof String.prototype.unescapeHtml!="function"){var uhm={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'","&#x27;":"'","&#x60;":"`"};String.prototype.unescapeHtml=function(){return this.replace(/&(lt|gt|amp|quot|apos|#x27|#x60);/g,function(a){return uhm[a]})}}if(typeof String.prototype.prettifyXML!="function"){String.prototype.prettifyXML=function(){var b="";var g=0;var d=this.replace(/(>)(<)(\/*)/g,"$1\r\n$2$3").split("\r\n");for(var c=0;c<d.length;c++){var e=d[c];var a=0;if(e.match(/.+<\/\w[^>]*>$/)){}else{if(e.match(/^<\/\w/)){if(g>0){g-=1}}else{if(e.match(/^<\w[^>]*[^\/]*>.*$/)){a=1}}}b+=("").leftPad(g*2)+e+"\r\n";g+=a}return b}}if(typeof String.prototype.encodeUTF8!="function"){String.prototype.encodeUTF8=function(){string=this.replace(/rn/g,"\n");var a="";for(var d=0;d<string.length;d++){var b=string.charCodeAt(d);if(b<128){a+=String.fromCharCode(b)}else{if((b>127)&&(b<2048)){a+=String.fromCharCode((b>>6)|192);a+=String.fromCharCode((b&63)|128)}else{a+=String.fromCharCode((b>>12)|224);a+=String.fromCharCode(((b>>6)&63)|128);a+=String.fromCharCode((b&63)|128)}}}return a}}if(typeof String.prototype.decodeUTF8!="function"){String.prototype.decodeUTF8=function(){var a="";var b=0;var d=c1=c2=0;while(b<this.length){d=this.charCodeAt(b);if(d<128){a+=String.fromCharCode(d);b++}else{if((d>191)&&(d<224)){c2=this.charCodeAt(b+1);a+=String.fromCharCode(((d&31)<<6)|(c2&63));b+=2}else{c2=this.charCodeAt(b+1);c3=this.charCodeAt(b+2);a+=String.fromCharCode(((d&15)<<12)|((c2&63)<<6)|(c3&63));b+=3}}}return a}}if(typeof String.prototype.encodeBase64!="function"){String.prototype.encodeBase64=function(){if(typeof btoa==="function"){return btoa(this)}var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var b;var d;var a=0;var c="";while(this.length>=a+3){b=(this.charCodeAt(a++)&255)<<16|(this.charCodeAt(a++)&255)<<8|this.charCodeAt(a++)&255;c+=e.charAt((b&16515072)>>18)+e.charAt((b&258048)>>12)+e.charAt((b&4032)>>6)+e.charAt((b&63))}if(this.length-a>0&&this.length-a<3){d=Boolean(this.length-a-1);b=((this.charCodeAt(a++)&255)<<16)|(d?(this.charCodeAt(a)&255)<<8:0);c+=e.charAt((b&16515072)>>18)+e.charAt((b&258048)>>12)+(d?e.charAt((b&4032)>>6):"=")+"="}return(c)}}if(typeof String.prototype.decodeBase64!="function"){String.prototype.decodeBase64=function(){if(typeof atob==="function"){return atob(this)}var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var c,a="";for(var b=0;b<this.length;b+=4){c=(d.indexOf(this.charAt(b))&255)<<18|(d.indexOf(this.charAt(b+1))&255)<<12|(d.indexOf(this.charAt(b+2))&255)<<6|d.indexOf(this.charAt(b+3))&255;a+=String.fromCharCode((c&16711680)>>16,(c&65280)>>8,c&255)}if(this.charCodeAt(b-2)==61){return(a.slice(0,a.length-2))}else{if(this.charCodeAt(b-1)==61){return(a.slice(0,a.length-1))}else{return(a)}}}}function panda_call(a,b){switch(typeof(a)){case"function":a.call(b);break;case"string":a=new Function(a);a.call(b);break}}(function(d){function h(o,m,l){for(var k in m.types){o.removeClass(m.types[k])}o.addClass(m.types[l])}function c(o,l,k,p){if(p&&o.label){k=p+o.label+k}if(o.escape){k=k.escapeHtml()}return d("<li>").addClass(o.texts[l]).append(d("<i>").addClass(o.icons[l])).append(d("<span>").html(k))}function a(p,o,k,l){p.append(d("<ul>").addClass(o.css).append(c(o,l,k)));h(p,o,l)}function j(r,q,k,p){if(k){var u=d("<ul>").addClass(q.css);if(d.isArray(k)){for(var o=0;o<k.length;o++){u.append(c(q,p,k[o]))}}else{for(var w in k){var l=k[w];if(d.isArray(l)){for(var o=0;o<l.length;o++){u.append(c(q,p,l[o],w))}}else{u.append(c(q,p,l,w))}}}r.append(u);h(r,q,p)}}function b(k,x,o,w){if(o){for(var l in o){var u=k.find('input[name="'+l+'"]');if(u.length){u.closest(".form-group").addClass("has-error").find(".p-field-errors").remove();var p=d("<ul>").attr("errorfor",l).addClass(x.css).addClass("p-field-errors");var r=o[l];if(d.isArray(r)){for(var q=0;q<r.length;q++){p.append(c(x,w,r[q],l))}}else{p.append(c(x,w,r,l))}p.insertAfter(u)}}}}function g(q,p,k,o){if(typeof(k)=="string"){a(q,p,k,o||"info")}else{if(d.isArray(k)){for(var l=0;l<k.length;l++){if(typeof(k[l])=="string"){a(q,p,k[l],o||"info")}else{a(q,p,k[l].html,k[l].type)}}}else{if(k){if(k.params){if(o){b(d(o),p,k.params.errors,"error")}else{j(q,p,k.params.errors,"error")}}if(k.action){j(q,p,k.action.errors,"error");j(q,p,k.action.warnings,"warn");j(q,p,k.action.confirms,"help");j(q,p,k.action.messages,"info")}}}}}d.palert={css:"fa-ul",label:false,escape:true,icons:{down:"fa-caret-down",up:"fa-caret-up",info:"fa-li fa fa-info-circle",help:"fa-li fa fa-question-circle",warn:"fa-li fa fa-exclamation-triangle",error:"fa-li fa fa-exclamation-circle"},texts:{info:"text-success",help:"text-warning",warn:"text-warning",error:"text-danger"},types:{info:"alert-success",help:"alert-info",warn:"alert-warning",error:"alert-danger"}};var e=function(l,k){if(k){l.data("palert",k)}return{clear:function(){l.children(".alert").remove();return this},error:function(o){return this.add(o,"error")},warn:function(o){return this.add(o,"warn")},help:function(o){return this.add(o,"help")},info:function(o){return this.add(o,"info")},add:function(o,q){var r=d.extend({},l.data("palert"),d.palert);var p=false,u=l.children(".p-alert");if(u.size()<1){u=d("<div></div>").addClass("p-alert alert alert-dismissable fade in").css("display","none");p=true}g(u,r,o,q);if(p&&u.children().length){u.prepend('<button type="button" class="close" data-dismiss="alert">&times;</button>');l.prepend(u);u.slideDown()}return this},actionAlert:function(r,p){if(r.alerts){this.add(r.alerts,p);if(r.alerts.params&&!r.alerts.params.empty){this.error(d(f).data("ajaxInputError"))}}if(r.errors){this.add(r.errors,"error")}if(r.exception){var q=r.exception;var o=q.message+(q.stackTrace?("\n"+q.stackTrace):"");this.add(o,"error")}return this},ajaxJsonError:function(w,p,u,o){if(w&&w.responseJSON){var v=w.responseJSON;if(v&&(v.alerts||v.exception||v.errors)){return this.actionAlert(v)}}msg="";if(u){msg+=u+"\n"}if(w&&w.responseText){try{var t=JSON.parse(w.responseText);msg+=JSON.stringify(t,null,2)}catch(q){msg+=w.responseText}}return this.add(msg||o,"error")}}};d.fn.palert=function(l){var m=typeof l==="object"&&l;var k=Array.prototype.slice.call(arguments,1);return this.each(function(){var o=e(d(this),m);if(typeof l==="string"){o[l].apply(o,k)}})};d.palert.notify=function(k,l,p){p=d.extend({},d.palert,p);var o=d.extend({style:"palert"},d.palert.notifys);var q=d("<div>").addClass("p-alert alert");g(q,p,k,l);if(d.notify){if(!d.notify.getStyle("palert")){d.notify.addStyle("palert",{html:'<div data-notify-html="html"></div>'})}d.notify({html:q},o)}};d.palert.toggleFieldErrors=function(l){var o=d(l).closest(".p-field-errors-alert").next(".p-field-errors");var m=d.palert.icons.down;var k=d.palert.icons.up;if(o.is(":hidden")){o.slideDown();d(l).children("i").removeClass(m).addClass(k)}else{o.slideUp();d(l).children("i").removeClass(k).addClass(m)}return false}})(jQuery);(function(b){var a=function(c){c.hammer().on("swipeleft",function(d){b(this).data("bs.carousel").next();d.gesture.stopDetect()}).on("swiperight",function(d){b(this).data("bs.carousel").prev();d.gesture.stopDetect()})};b(window).on("load",function(){if(typeof(b.fn.hammer)=="function"){b('[data-ride="carousel"]').each(function(){a(b(this))})}})})(jQuery);(function(a){a(window).on("load",function(){a(".p-checkboxlist.order").removeClass("order").addClass("ordered").find(":checkbox").click(function(){var d=a(this);var c=d.closest("label");var b=d.closest(".p-checkboxlist").find("hr");c.fadeOut(function(){if(d.is(":checked")){c.insertBefore(b)}else{c.insertAfter(b)}c.fadeIn()})})})})(jQuery);(function(d){var c={};var b="div.p-datepicker, div.p-datetimepicker, div.p-timepicker";function a(){if(typeof(d.fn.datetimepicker)=="undefined"){setTimeout(a,100);return}for(var e in c){if(!d.fn.datetimepicker.dates[e]){setTimeout(a,100);return}}d(b).datetimepicker()}d(window).on("load",function(){var g=d(b);if(g.size()){var e=g.data("datetimepickerCss");if(e){d.jcss(e)}var h=g.data("datetimepickerJs");if(h){d.jscript(h,function(){g.each(function(){var k=d(this).data("language");var j=d(this).data("datetimepickerLangJs");if(k&&j&&!c[k]){d.jscript(j);c[k]=j}})})}a()}})})(jQuery);if(typeof(panda)=="undefined"){panda={}}(function(h){function b(){var k=h(this);var l=h("#"+k.attr("id")+"_alert").empty();k.find(".has-error").removeClass("has-error").end().find(".p-field-errors").remove();if(!k.isLoadMasked()){k.loadmask()}h.ajax({url:k.data("ajaxAction"),method:"post",data:k.serializeArray(),dataType:"json",success:function(m){l.palert("actionAlert",m,k);if(m.result){k.vals(m.result);k.find("div.p-datepicker, div.p-datetimepicker, div.p-timepicker").each(function(){var o=h(this).find("input").val();if(o){h(this).datetimepicker("setValue",new Date(o))}})}if(l.children().length){l.scrollIntoView()}},error:function(p,m,o){l.palert("ajaxJsonError",p,m,o,k.data("ajaxServerError"))},complete:function(){k.unloadmask()}});return false}function c(k){if(!k.data("ajaxSubmitHooked")&&k.data("ajaxAction")){k.data("ajaxSubmitHooked",true).submit(b)}}function j(k){var l=k.closest(".p-popup, .p-inner");var m=k.serializeArray();if(l.hasClass("p-inner")){m.push({name:"__inner",value:"true"})}else{m.push({name:"__popup",value:"true"})}if(k.attr("loadmask")!="false"){l.parent().loadmask()}h.ajax({url:k.attr("action"),data:m,dataType:"html",success:function(o,p,q){l.parent().html(o)},error:function(q,p,o){l.parent().html(q.responseText)},complete:function(p,o){l.parent().unloadmask()}})}function e(k){if(!k.data("actionHooked")){k.data("actionHooked",true).find("input[data-action], button[data-action]").click(function(){h(this).closest("form").attr("action",h(this).data("action"))})}}function a(k){var l=k.attr("target")||"_self";return l=="_self"||l=="_top"||l=="_parent"}function d(k){if(k.data("hooked")){return}var l=k.closest(".p-popup, .p-inner");if(l.length>0){k.data("hooked",true);k.submit(function(m){m.preventDefault();j(h(this));return false})}}function g(k){if(k.data("hooked")){return}if(k.height()>20&&k.attr("loadmask")!="false"){k.data("hooked",true);k.submit(function(){h(this).loadmask()})}}h(window).on("load",function(){h("form").each(function(){var k=h(this);e(k);if(a(k)){d(k);if(panda.enable_loadmask_form){g(k)}c(k)}})})})(jQuery);(function(b){var a={};function d(){b.extend(b.summernote.plugins,{media:function(g){var j=b.summernote.ui;var h=g.$note;g.memo("button.media",function(){function l(m){b.popup().hide();if(m){for(var o=0;o<m.length;o++){h.summernote("insertImage",m[o].href,m[o].name)}}}var k=j.button({contents:'<i class="'+(h.data("mediaIcon")||"fa fa-list-alt")+'"/>',tooltip:h.data("mediaText")||"Media Browser",click:function(){var m=h.data("mediaHref");var o=h.data("mediaPopupId");if(!o){o=(h.attr("id")||h.attr("name")||m.hashCode())+"_media_popup"}b.popup({id:o,url:m}).show({id:o,trigger:this,popover:true,onpopup:null,onhide:null,callback:l})}});return k.render()});this.destroy=function(){this.$panel.remove();this.$panel=null}}})}function c(){if(typeof(b.fn.summernote)=="undefined"){setTimeout(c,100);return}for(var g in a){if(!b.summernote.lang[g]){setTimeout(c,100);return}}d();b("textarea.p-htmleditor.p-summernote").each(function(){var u=b(this);var t={};var r=["toolbar","popover","fontNames","fontNamesIgnoreCheck"];for(var m=0;m<r.length;m++){var j=u.attr(r[m]);if(j){try{t[r[m]]=JSON.parse(j)}catch(q){}}}b.extend(t,u.data("summernoteOptions"));var h=u.data("summernoteLang");if(h){t.lang=h}if(u.attr("readonly")){u.parent().addClass("p-htmleditor-readonly");u.summernote(b.extend(t,{toolbar:false})).summernote("disable")}else{var k=["picture","video"];if(u.data("mediaHref")){k.push("media")}u.summernote(b.extend({height:u.attr("height"),followingToolbar:u.attr("followingToolbar")||false,toolbar:[["style",["style","fontname","fontsize","color"]],["text",["bold","italic","underline","strikethrough","superscript","subscript"]],["para",["paragraph","ol","ul"]],["insert",["hr","table","link"]],["media",k],["edit",["undo","redo","clear"]],["misc",["codeview","fullscreen","help"]],]},t))}})}function e(){if(typeof(b.fn.cleditor)=="undefined"){setTimeout(e,100);return}b("textarea.p-htmleditor.p-cleditor").cleditor()}b(window).on("load",function(){var k=b("textarea.p-htmleditor.p-summernote");if(k.size()){var h=k.data("summernoteCss");if(h){b.jcss(h)}var j=k.data("summernoteJs");if(j){b.jscript(j,function(){k.each(function(){var m=b(this).data("summernoteLang");var l=b(this).data("summernoteLangJs");if(m&&l&&!a[m]){b.jscript(l);a[m]=l}})})}c()}var g=b("textarea.p-htmleditor.p-cleditor");if(g.size()){var h=g.data("cleditorCss");if(h){b.jcss(h)}var j=g.data("cleditorJs");if(j){b.jscript(j,true)}e()}})})(jQuery);if(typeof(panda)=="undefined"){panda={}}panda.loading=function(a){$("body").loadmask({mask:false,fixed:true,timeout:a||1000})};panda.page_sort=function(b,a){panda.loading();location.href=$.addQueryParams(location.href,{"s.c":b,"s.d":a});return false};panda.page_sort_reverse=function(b,a){return panda.page_sort(b,a.toLowerCase()=="asc"?"desc":"asc")};panda.page_goto=function(a){panda.loading();location.href=$.addQueryParams(location.href,{"p.s":a});return false};panda.page_limit=function(a){panda.loading();location.href=$.addQueryParams(location.href,{"p.l":a});return false};function plv_options(d,a){var c=document.getElementById(d);for(var b in a){c[b]=a[b]}}function plv_getForm(a){return document.getElementById(a+"_form")}function plv_getBForm(a){return document.getElementById(a+"_bform")}function plv_submitBForm(e,c,d,a){$("#"+e).loadmask();var b=plv_getBForm(e);if(c){if(typeof(c)=="string"){b.action=c}else{if(!d){d=c}}}if(d){for(n in d){$('<input type="hidden" name="'+n+'"/>').val(d[n]).appendTo(b)}}b.target=a?a:"";b.submit();return false}function plv_submitCheckedRows(d,b,c,a){if(plv_enableCheckedValues(d)>0){plv_submitBForm(d,b,c,a)}return false}function plv_submitCheckedKeys(d,b,c,a){if(plv_enableCheckedKeys(d)>0){plv_submitBForm(d,b,c,a)}return false}function plv_enableCheckedValues(c,a){var b=0;$("#"+c+" .p-lv-tbody input.p-lv-cb").each(function(){if(this.checked){b++;if(a){$(this).closest("tr").find("input.p-lv-cv").each(function(){var d=_plv_getPropertyName(this.name);if(a==d||a.contains(d)){this.disabled=false}})}else{$(this).closest("tr").find("input.p-lv-cv").prop("disabled",false)}}else{$(this).closest("tr").find("input.p-lv-cv").prop("disabled",true)}});return b}function plv_enableCheckedKeys(b){var a=0;$("#"+b+" .p-lv-tbody input.p-lv-cb").each(function(){if(this.checked){a++}$(this).closest("tr").find("input.p-lv-ck").prop("disabled",!this.checked)});return a}function plv_getRowData(a){var b={};$(a).find("input.p-lv-cv").each(function(){var c=_plv_getPropertyName(this.name);b[c]=this.value});return b}function _plv_getPropertyName(b){var a=b.lastIndexOf(".");if(a>=0){b=b.substring(a+1)}return b}function plv_getTBodyRows(a){return $("#"+a+" .p-lv-tbody > tr")}function plv_checkAll(c,a){if(typeof(a)=="undefined"){a=true}var b=$("#"+c);_plv_setCheckAll(b,a,true)}function plv_checkRow(d,c,b){if(typeof(b)=="undefined"){b=true}var a=$("#"+d+" .p-lv-tbody > tr");_plv_selectRow(a.eq(c),b)}function _plv_init_table(d){d.find(".p-lv-thead > tr > th").each(function(){var e=$(this);if(e.hasClass("p-lv-sortable")){e.click(function(){_plv_sort(d.attr("id"),$(this).attr("column"))});if($.browser.msie&&$.browser.majorVersion<7){e.mouseenter(function(){$(this).addClass("p-lv-hover");return false}).mouseleave(function(){$(this).removeClass("p-lv-hover");return false})}}});var b=0;var c=0;var a=d.find(".p-lv-tbody");a.click(_plv_onTBodyClick).find("input.p-lv-cb").each(function(){_plv_selectRow($(this).closest("tr"),this.checked);if(this.checked){b++}else{c++}});if($.browser.msie&&$.browser.majorVersion<7){a.mouseover(_plv_onTBodyMouseOver).mouseout(_plv_onTBodyMouseOut)}d.find(".p-lv-thead input.p-lv-ca").click(_plv_onAllCheck).prop("checked",(b>0&&c==0))}function _plv_init(a){if(a.data("plistview")){return}a.data("plistview",true);_plv_init_table(a)}function _plv_sort(d,c){var b=document.getElementById(d+"_sort");if(b){$("#"+d).loadmask();var a=document.getElementById(d+"_dir");if(c==b.value){a.value=(a.value.toLowerCase()=="asc"?"desc":"asc")}else{b.value=c;a.value="asc"}document.getElementById(d+"_submit").click()}}function _plv_goto(d,b){$("#"+d).loadmask();document.getElementById(d+"_form").reset();document.getElementById(d+"_start").value=b;var c=document.getElementById(d+"_sort");if(c&&c.value==""){c.disabled=true}var a=document.getElementById(d+"_dir");if(a&&a.value==""){a.disabled=true}document.getElementById(d+"_submit").click();return false}function _plv_limit(b,a){$("#"+b).loadmask();document.getElementById(b+"_limit").value=a;document.getElementById(b+"_submit").click()}function _plv_selectRow(a,b){if(b){a.addClass("p-selected p-lv-selected").find("input.p-lv-cb").prop("checked",b)}else{a.removeClass("p-selected p-lv-selected").find("input.p-lv-cb").prop("checked",b)}}function _plv_toggleRow(c,b){var d=c.closest("div.p-lv");if(d.data("singleSelect")){if(c.hasClass("p-lv-selected")){if(b||!d.data("untoggleSelect")){_plv_selectRow(c,false)}}else{_plv_selectRow(d.find("tr.p-lv-selected"),false);_plv_selectRow(c,true)}}else{if(c.hasClass("p-lv-selected")){_plv_selectRow(c,false)}else{_plv_selectRow(c,true)}}var a=true;d.find(".p-lv-tbody input.p-lv-cb").each(function(){if(!this.checked){a=false;return false}});_plv_setCheckAll(d,a)}function _plv_setCheckAll(c,a,b){c.find(".p-lv-thead input.p-lv-ca").each(function(){this.checked=a;this.title=$(this).data(a?"selectNone":"selectAll")});c.find(".p-lv-cab").each(function(){var d=$(this);d.prop("checked",a).find("i").removeClass(d.data(a?"iconSelectAll":"iconSelectNone")).addClass(d.data(a?"iconSelectNone":"iconSelectAll")).get(0).nextSibling.data=" "+d.data(a?"textSelectNone":"textSelectAll")});if(b){c.find(".p-lv-tbody > tr").each(function(){_plv_selectRow($(this),a)})}}function _plv_onAllCheck(){var b=this.checked;var a=$(this).closest(".p-lv");_plv_setCheckAll(a,b,true)}function _plv_onAllClick(a){var d=!($(a).prop("checked")||false);var b=$(a).closest(".p-lv");_plv_setCheckAll(b,d,true)}function _plv_onTBodyClick(a){var e=$(a.target);if(e.prop("tagName")=="A"){return}var c=e.closest("tr");if(e.hasClass("p-lv-cb")){a.stopPropagation();_plv_toggleRow(c,true);return}if(c.size()>0){_plv_toggleRow(c);var d=c.closest("div.p-lv");var b=d.get(0).onrowclick||d.data("onrowclick");panda_call(b,c.get(0))}}function _plv_onTBodyMouseOver(a){$(a.target).closest("tr.p-lv-tr").addClass("ui-state-hover p-lv-hover");return false}function _plv_onTBodyMouseOut(a){$(a.target).closest("tr.p-lv-tr").removeClass("ui-state-hover p-lv-hover");return false}(function(a){a(window).on("load",function(){a("div.p-lv").each(function(){_plv_init(a(this))})})})(jQuery);if(typeof(panda)=="undefined"){panda={}}panda.meta_props=function(){var a={};$("meta").each(function(){var d=$(this);var b=d.attr("property");if(b&&b.startsWith("s:")){var c=d.attr("content");a[b.substring(2)]=c}});return a};(function(a){a(window).on("load",function(){a(".navbar-toggle").click(function(){a(this).toggleClass("active")})})})(jQuery);(function(a){a(window).on("load",function(){for(var b in window){if(b.startsWith("onPageLoad")&&typeof(window[b])=="function"){window[b]();window[b]=null}}})})(jQuery);(function(){function _click(evt){var $el=$(this);if($el.parent().hasClass("disabled")){evt.preventDefault()}else{var pn=$el.attr("pageno");if(pn>=0){var $pg=$el.closest(".p-pager");var js=$pg.data("click");if(js){js=js.replace("$",pn);js=js.replace("#",(pn-1)*$pg.data("limit"));if(eval(js)===false){evt.preventDefault()}}}}}function _setActivePage($p,n){var $u=$p.find("ul.pagination");$u.find("li.active").removeClass("active");var $n=$u.find("li.p-pager-page");var m=$p.data("pages");var b=n-Math.floor($n.size()/2);if(b+$n.size()>m){b=m-$n.size()+1}if(b<1){b=1}var s=$p.data("style");if(n>1){$u.find(".p-pager-first, .p-pager-prev").removeClass("hidden disabled");$u.find(".p-pager-prev>a").attr("pageno",n-1)}else{$u.find(".p-pager-first").addClass(s.contains("F")?"disabled":"hidden");$u.find(".p-pager-prev").addClass(s.contains("P")?"disabled":"hidden")}$u.find(".p-pager-ellipsis-left")[b>1?"removeClass":"addClass"]("hidden");$n.each(function(){var $a=$(this).find("a");$a.attr("pageno",b).text(b);if(b==n){$(this).addClass("active")}b++});$u.find(".p-pager-ellipsis-right")[b<=m?"removeClass":"addClass"]("hidden");if(n<m){$u.find(".p-pager-next, .p-pager-last").removeClass("hidden disabled");$u.find(".p-pager-next>a").attr("pageno",n+1)}else{$u.find(".p-pager-next").addClass(s.contains("N")?"disabled":"hidden");$u.find(".p-pager-last").addClass(s.contains("L")?"disabled":"hidden")}}$.fn.ppager=function(api,pno){if(api=="getActivePage"){return this.find("ul.pagination>li.active>a").attr("pageno")}if(api=="setActivePage"){return this.each(function(){_setActivePage($(this),pno)})}return this.each(function(){var $p=$(this);if($p.attr("ppager")!="true"){$p.attr("ppager","true");if($p.data("click")){$p.find("a[pageno]").click(_click)}}})};$(window).on("load",function(){$('[data-spy="ppager"]').ppager()})})();(function(){function a(b,d){var c=this.scrollLeft;this.scrollLeft-=(d*40);if(c!=this.scrollLeft){b.preventDefault()}}$(window).on("load",function(){$(".p-panel-hscroll .panel-body").each(function(){var b=$(this);if(b.data("pwheelpanel")){return}b.data("pwheelpanel",true).mousewheel(a)})})})();(function(g){function j(k){if(k.data("pqueryer")){return}k.data("pqueryer",true);h(k)}function h(k){k.find(".p-qr-filters").find(".form-group").each(function(){if(g(this).hasClass("p-hidden")){g(this).find("input,select,textarea").prop("disabled",true)}}).end().find(".p-qr-remove").click(b).end().find(".p-qr-clear").click(e).end().find(".p-qr-select").change(c).end().find(".p-qr-f-number-c, .p-qr-f-date-c, .p-qr-f-datetime-c, .p-qr-f-time-c").on("change",a).end().find("form").submit(function(){k.loadmask()})}function d(){switch(this.tagName){case"INPUT":switch(this.type){case"radio":if(this.name!="m"&&!this.name.endsWith(".m")){this.checked=false}break;case"checkbox":this.checked=false;break;case"text":this.value="";break}break;case"SELECT":if(!this.name.endsWith(".c")){this.selectedIndex=0}break;case"TEXTAREA":this.value="";break}}function a(){var k=g(this);if(k.val()=="bt"){k.nextAll().removeClass("p-hidden").find("INPUT").prop("disabled",false)}else{k.nextAll().addClass("p-hidden").find("INPUT").prop("disabled",true)}}function c(){var k=this;if(k.selectedIndex>0){g(k).closest(".p-qr-filters").find(".p-qr-fsi-"+k.value).removeClass("p-hidden").find("input,select,textarea").prop("disabled",false).end().end().fieldset("expand");k.options[k.selectedIndex].disabled=true;k.selectedIndex=0}return false}function b(){var k=g(this).closest(".form-group");k.addClass("p-hidden").find("input,select,textarea").prop("disabled",true).each(d).end().find(".p-label-error").removeClass("p-label-error").end().find(".p-field-errors").remove().end().closest(".p-qr-filters").find(".p-qr-select > option[value="+k.data("item")+"]").prop("disabled",false)}function e(){g(this).closest(".p-qr-form").find(".p-field-errors").remove().end().find(".p-label-error").removeClass("p-label-error").end().find("input,select,textarea").each(d);return false}g(window).on("load",function(){g("div.p-qr").each(function(){j(g(this))})})})(jQuery);(function(a){a(window).on("load",function(){var c=a(".p-totop");if(c.size()>0){c.click(function(){a("html,body").animate({scrollTop:0},"slow")});var b=a(window);b.scroll(function(){c[b.scrollTop()>b.height()?"show":"hide"]()})}})})(jQuery);(function(a){a.fn.ptrigger=function(b){b=a.extend({icon:"fa fa-remove"},b);return this.each(function(){var g=a(this);if(g.data("ptriggerHooked")){return}g.data("ptriggerHooked",true);var d=b.onclick||g.data("ptrigger");if(!d||d=="false"){return}var c=b.icon||g.data("ptrigger-icon");var e=a('<i class="p-trigger '+c+'"></i>');g.addClass("p-has-trigger");e.insertAfter(g).click(function(){if(d&&d!="true"&&d!=true){panda_call(d,g.get(0))}else{if(g.val()!=""){g.val("").trigger("change")}}})})};a(window).on("load",function(){a("[data-ptrigger]").ptrigger()})})(jQuery);(function(b){var a=function(){var d=document.createElement("div");return(("draggable" in d)||("ondragstart" in d&&"ondrop" in d))&&"FormData" in window&&"FileReader" in window}();var c=function(B){if(B.data("puploader")){return}B.data("puploader",true);var h=false;var p=0;var y=B.children(".p-uploader-file");var A=B.children(".p-uploader-btn");var o=B.children(".p-uploader-sep");var z=B.children(".p-uploader-error");var t=b('<div class="p-uploader-progress progress progress-striped" style="display: none"><div class="progress-bar progress-bar-info" style="width: 0%"></div></div>');t.insertAfter(A.length>0?A:y);if(z.length<1){z=b('<div class="p-uploader-error"></div>').insertAfter(t)}if(o.length<1){o=b('<div class="p-uploader-sep"></div>').insertAfter(z)}function x(F){var G=String.formatSize(F);if(G.length>0){G="("+G+")"}return G}function E(I){var G=I.lastIndexOf("/");var F=I.lastIndexOf("\\");var H=G>F?G:F;return I.substr(H+1)}function v(M){var G=M.name,O=E(M.name),V=M.size,Q=M.type;var S=B.data("dnloadLink");var P=B.data("dnloadName");var U=JSON.sparse(B.data("dnloadData"));var H=b("<div>").addClass("p-uploader-item").insertAfter(o);var L=b("<input>").attr("type","hidden").attr("name",B.data("name")).addClass("p-uploader-fid").appendTo(H);var T=b("<span>").addClass("p-uploader-text").appendTo(H);var K=b("<div>").addClass("p-uploader-image").appendTo(H);L.val(G||"");O=O||G||y.val();var I=null;if(S&&G){var R=b.extend({},U);R[P]=G;I=S+"?"+b.param(R)}var W=String.startsWith(Q,"image/");if(O){var N='<i class="fa fa-'+(W?"image":"paperclip")+' p-uploader-icon"></i> '+O+" "+x(V);if(I){b("<a>").attr("href",I).html(N).appendTo(T)}else{b("<span>").html(N).appendTo(T)}}b("<i>").addClass("p-uploader-remove fa fa-remove").click(r).appendTo(T);if(W&&I){var J=b("<a>").attr("href",I);var F=b("<img>").addClass("img-thumbnail").attr("src",I).appendTo(J);J.appendTo(K).fadeIn()}}function w(F){t.children(".progress-bar").css({width:F+"%"})}function r(){b(this).closest(".p-uploader-item").fadeOut(function(){b(this).remove()});z.empty()}function u(){h=true;p=0;(A.length?A:y).addClass("p-hidden");z.empty();w(0);t.show()}function q(){w(p++);if(p<90){setTimeout(q,20)}}function D(G){if(G.lengthComputable){var F=Math.round(G.loaded*100/G.total);w(F)}}function m(){w(100);t.hide();y.val("");(A.length?A:y).removeClass("p-hidden");h=false}function g(G){var F=B.data("onUploaded");if(typeof(window[F])=="function"){return window[F](G)}return false}function e(H){m();z.palert("actionAlert",H);if(H.success){if(g(H)){return}if(!y.attr("multiple")){B.children(".p-uploader-item").remove()}var G=H.result;if(b.isArray(G)){for(var F=0;F<G.length;F++){v(G[F])}}else{v(G)}}}function k(H,F,G){m();z.palert("error",(G?(G+""):(H?H.responseText:F)))}function j(){if(h||y.val()==""){return}if(a&&y[0].files){l(y[0].files)}else{C()}}function d(F){F.preventDefault();if(h){return}l(F.originalEvent.dataTransfer.files)}function C(){u();q();var F={};F[B.data("uploadName")]=y;b.ajaf({url:B.data("uploadLink"),data:JSON.sparse(B.data("uploadData")),file:F,dataType:"json",success:e,error:k})}function l(I){u();var H=new FormData();var F=JSON.sparse(B.data("uploadData"));if(F){for(var G in F){H.append(G,F[G])}}if(I){b.each(I,function(J,K){H.append(B.data("uploadName"),K)})}b.ajax({url:B.data("uploadLink"),type:"POST",data:H,dataType:"json",cache:false,contentType:false,processData:false,xhr:function(){var J=b.ajaxSettings.xhr();J.upload.addEventListener("progress",D);return J},success:e,error:k})}y.change(function(){setTimeout(j,10)});A.click(function(F){F.preventDefault();y.trigger("click");return false});if(a){B.addClass("p-uploader-draggable").on("drag dragstart dragend dragover dragenter dragleave drop",function(F){F.preventDefault();F.stopPropagation()}).on("dragover dragenter",function(){B.addClass("p-uploader-dragover")}).on("dragleave dragend drop",function(){B.removeClass("p-uploader-dragover")}).on("drop",d)}};b.fn.puploader=function(d){return this.each(function(){c(b(this))})};b(window).on("load",function(){b('[data-spy="puploader"]').puploader()})})(jQuery);(function(a){a(window).on("load",function(){a(".p-viewfield").prev("input").change(function(){var b=a(this).val();a(this).next(".p-viewfield").text(b==""?"\u3000":b)});a('.p-viewfield[data-format="html"]').each(function(){a('<a href="#" class="p-vf-code"><i class="fa fa-code"></i></a>').appendTo(a(this).parent())});a(".p-vf-code").click(function(){var d=a(this);var c=d.toggleClass("active").parent();var b=c.find("input").val();c.find(".p-viewfield").html(d.hasClass("active")?b.escapeHtml():b);return false})})})(jQuery);