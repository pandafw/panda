function panda_call(e,t){switch(typeof e){case"function":e.call(t);break;case"string":(e=new Function(e)).call(t)}}function plv_options(e,t){var a,n=document.getElementById(e);for(a in t)n[a]=t[a]}function plv_getForm(e){return document.getElementById(e+"_form")}function plv_getBForm(e){return document.getElementById(e+"_bform")}function plv_submitBForm(e,t,a,r){$("#"+e).loadmask();var i=plv_getBForm(e);if(t&&("string"==typeof t?i.action=t:a=a||t),a)for(n in a)$('<input type="hidden" name="'+n+'"/>').val(a[n]).appendTo(i);return i.target=r||"",i.submit(),!1}function plv_submitCheckedRows(e,t,a,n){return 0<plv_enableCheckedValues(e)&&plv_submitBForm(e,t,a,n),!1}function plv_submitCheckedKeys(e,t,a,n){return 0<plv_enableCheckedKeys(e)&&plv_submitBForm(e,t,a,n),!1}function plv_enableCheckedValues(e,t){var a=0;return $("#"+e+" .p-lv-tbody input.p-lv-cb").each(function(){this.checked?(a++,t?$(this).closest("tr").find("input.p-lv-cv").each(function(){var e=_plv_getPropertyName(this.name);t!=e&&!t.contains(e)||(this.disabled=!1)}):$(this).closest("tr").find("input.p-lv-cv").prop("disabled",!1)):$(this).closest("tr").find("input.p-lv-cv").prop("disabled",!0)}),a}function plv_enableCheckedKeys(e){var t=0;return $("#"+e+" .p-lv-tbody input.p-lv-cb").each(function(){this.checked&&t++,$(this).closest("tr").find("input.p-lv-ck").prop("disabled",!this.checked)}),t}function plv_getRowData(e){var t={};return $(e).find("input.p-lv-cv").each(function(){var e=_plv_getPropertyName(this.name);t[e]=this.value}),t}function _plv_getPropertyName(e){var t=e.lastIndexOf(".");return e=0<=t?e.substring(t+1):e}function plv_getTBodyRows(e){return $("#"+e+" .p-lv-tbody > tr")}function plv_checkAll(e,t){void 0===t&&(t=!0),_plv_setCheckAll($("#"+e),t,!0)}function plv_checkRow(e,t,a){void 0===a&&(a=!0),_plv_selectRow($("#"+e+" .p-lv-tbody > tr").eq(t),a)}function _plv_init_table(t){t.find(".p-lv-thead > tr > th").each(function(){var e=$(this);e.hasClass("p-lv-sortable")&&(e.click(function(){_plv_sort(t.attr("id"),$(this).attr("column"))}),$.browser.msie&&$.browser.majorVersion<7&&e.mouseenter(function(){return $(this).addClass("p-lv-hover"),!1}).mouseleave(function(){return $(this).removeClass("p-lv-hover"),!1}))});var e=0,a=0,n=t.find(".p-lv-tbody");n.click(_plv_onTBodyClick).find("input.p-lv-cb").each(function(){_plv_selectRow($(this).closest("tr"),this.checked),this.checked?e++:a++}),$.browser.msie&&$.browser.majorVersion<7&&n.mouseover(_plv_onTBodyMouseOver).mouseout(_plv_onTBodyMouseOut),t.find(".p-lv-thead input.p-lv-ca").click(_plv_onAllCheck).prop("checked",0<e&&0==a)}function _plv_init(e){e.data("plistview")||(e.data("plistview",!0),_plv_init_table(e))}function _plv_sort(e,t){var a,n=document.getElementById(e+"_sort");n&&($("#"+e).loadmask(),a=document.getElementById(e+"_dir"),t==n.value?a.value="asc"==a.value.toLowerCase()?"desc":"asc":(n.value=t,a.value="asc"),document.getElementById(e+"_submit").click())}function _plv_goto(e,t){$("#"+e).loadmask(),document.getElementById(e+"_form").reset(),document.getElementById(e+"_start").value=t;t=document.getElementById(e+"_sort"),t&&""==t.value&&(t.disabled=!0),t=document.getElementById(e+"_dir");return t&&""==t.value&&(t.disabled=!0),document.getElementById(e+"_submit").click(),!1}function _plv_limit(e,t){$("#"+e).loadmask(),document.getElementById(e+"_limit").value=t,document.getElementById(e+"_submit").click()}function _plv_selectRow(e,t){(t?e.addClass("p-selected p-lv-selected"):e.removeClass("p-selected p-lv-selected")).find("input.p-lv-cb").prop("checked",t)}function _plv_toggleRow(e,t){var a=e.closest("div.p-lv"),n=(a.data("singleSelect")?e.hasClass("p-lv-selected")?!t&&a.data("untoggleSelect")||_plv_selectRow(e,!1):(_plv_selectRow(a.find("tr.p-lv-selected"),!1),_plv_selectRow(e,!0)):e.hasClass("p-lv-selected")?_plv_selectRow(e,!1):_plv_selectRow(e,!0),!0);a.find(".p-lv-tbody input.p-lv-cb").each(function(){if(!this.checked)return n=!1}),_plv_setCheckAll(a,n)}function _plv_setCheckAll(e,t,a){e.find(".p-lv-thead input.p-lv-ca").each(function(){this.checked=t,this.title=$(this).data(t?"selectNone":"selectAll")}),e.find(".p-lv-cab").each(function(){var e=$(this);e.prop("checked",t).find("i").removeClass(e.data(t?"iconSelectAll":"iconSelectNone")).addClass(e.data(t?"iconSelectNone":"iconSelectAll")).get(0).nextSibling.data=" "+e.data(t?"textSelectNone":"textSelectAll")}),a&&e.find(".p-lv-tbody > tr").each(function(){_plv_selectRow($(this),t)})}function _plv_onAllCheck(){var e=this.checked;_plv_setCheckAll($(this).closest(".p-lv"),e,!0)}function _plv_onAllClick(e){var t=!$(e).prop("checked");_plv_setCheckAll($(e).closest(".p-lv"),t,!0)}function _plv_onTBodyClick(e){var t,a=$(e.target);if("A"!=a.prop("tagName"))return t=a.closest("tr"),a.hasClass("p-lv-cb")?(e.stopPropagation(),void _plv_toggleRow(t,!0)):void(0<t.size()&&(_plv_toggleRow(t),panda_call((a=t.closest("div.p-lv")).get(0).onrowclick||a.data("onrowclick"),t.get(0))))}function _plv_onTBodyMouseOver(e){return $(e.target).closest("tr.p-lv-tr").addClass("ui-state-hover p-lv-hover"),!1}function _plv_onTBodyMouseOut(e){return $(e.target).closest("tr.p-lv-tr").removeClass("ui-state-hover p-lv-hover"),!1}!function(h){function l(e,t,a){for(var n in t.types)e.removeClass(t.types[n]);e.addClass(t.types[a])}function v(e,t,a,n){return n&&e.label&&(a=n+e.label+a),h("<li>").addClass(e.texts[t]).append(h("<i>").addClass(e.icons[t])).append(h("<span>")[e.escape?"text":"html"](a))}function m(e,t,a,n){e.append(h("<ul>").addClass(t.css).append(v(t,n,a))),l(e,t,n)}function g(e,t,a,n){if(a){var r=h("<ul>").addClass(t.css);if(h.isArray(a))for(var i=0;i<a.length;i++)r.append(v(t,n,a[i]));else for(var o in a){var s=a[o];if(h.isArray(s))for(i=0;i<s.length;i++)r.append(v(t,n,s[i],o));else r.append(v(t,n,s,o))}e.append(r),l(e,t,n)}}function o(e,t,a,n){if("string"==typeof a)m(e,t,a,n||"info");else if(h.isArray(a))for(var r=0;r<a.length;r++)"string"==typeof a[r]?m(e,t,a[r],n||"info"):m(e,t,a[r].html,a[r].type);else if(a){if(a.params)if(n){var i=h(n),o=t,s=a.params.errors,l="error";if(s)for(var d in s){var p=i.find('input[name="'+d+'"]');if(p.length){p.closest(".form-group").addClass("has-error").find(".p-field-errors").remove();var c=h("<ul>").attr("errorfor",d).addClass(o.css).addClass("p-field-errors"),u=s[d];if(h.isArray(u))for(var f=0;f<u.length;f++)c.append(v(o,l,u[f],d));else c.append(v(o,l,u,d));c.insertAfter(p)}}}else g(e,t,a.params.errors,"error");a.action&&(g(e,t,a.action.errors,"error"),g(e,t,a.action.warnings,"warn"),g(e,t,a.action.confirms,"help"),g(e,t,a.action.messages,"info"))}}h.palert={css:"fa-ul",label:!1,escape:!0,icons:{down:"fa-caret-down",up:"fa-caret-up",info:"fa-li fa fa-info-circle",help:"fa-li fa fa-question-circle",warn:"fa-li fa fa-exclamation-triangle",error:"fa-li fa fa-exclamation-circle"},texts:{info:"text-success",help:"text-warning",warn:"text-warning",error:"text-danger"},types:{info:"alert-success",help:"alert-info",warn:"alert-warning",error:"alert-danger"}};h.fn.palert=function(t){var a="object"==typeof t&&t,n=Array.prototype.slice.call(arguments,1);return this.each(function(){i=h(this),(e=a)&&i.data("palert",e);var i,e={clear:function(){return i.children(".alert").remove(),this},error:function(e){return this.add(e,"error")},warn:function(e){return this.add(e,"warn")},help:function(e){return this.add(e,"help")},info:function(e){return this.add(e,"info")},add:function(e,t){var a=h.extend({},i.data("palert"),h.palert),n=!1,r=i.children(".p-alert");return r.size()<1&&(r=h("<div></div>").addClass("p-alert alert alert-dismissable fade in").css("display","none"),n=!0),o(r,a,e,t),n&&r.children().length&&(r.prepend('<button type="button" class="close" data-dismiss="alert">&times;</button>'),i.prepend(r),r.slideDown()),this},actionAlert:function(e,t){return e.alerts&&(this.add(e.alerts,t),e.alerts.params&&!e.alerts.params.empty&&this.error(h(f).data("ajaxInputError"))),e.errors&&this.add(e.errors,"error"),e.exception&&(e=(t=e.exception).message+(t.stackTrace?"\n"+t.stackTrace:""),this.add(e,"error")),this},ajaxJsonError:function(t,e,a,n){if(t&&t.responseJSON){var r=t.responseJSON;if(r&&(r.alerts||r.exception||r.errors))return this.actionAlert(r)}if(msg="",a&&(msg+=a+"\n"),t&&t.responseText)try{var i=JSON.parse(t.responseText);msg+=JSON.stringify(i,null,2)}catch(e){msg+=t.responseText}return this.add(msg||n,"error")}};"string"==typeof t&&e[t].apply(e,n)})},h.palert.notify=function(e,t,a){a=h.extend({},h.palert,a);var n=h.extend({style:"palert"},h.palert.notifys),r=h("<div>").addClass("p-alert alert");o(r,a,e,t),h.notify&&(h.notify.getStyle("palert")||h.notify.addStyle("palert",{html:'<div data-notify-html="html"></div>'}),h.notify({html:r},n))},h.palert.toggleFieldErrors=function(e){var t=h(e).closest(".p-field-errors-alert").next(".p-field-errors"),a=h.palert.icons.down,n=h.palert.icons.up;return t.is(":hidden")?(t.slideDown(),h(e).children("i").removeClass(a).addClass(n)):(t.slideUp(),h(e).children("i").removeClass(n).addClass(a)),!1}}(jQuery),!function(t){t(window).on("load",function(){"function"==typeof t.fn.hammer&&t('[data-ride="carousel"]').each(function(){t(this).hammer().on("swipeleft",function(e){t(this).data("bs.carousel").next(),e.gesture.stopDetect()}).on("swiperight",function(e){t(this).data("bs.carousel").prev(),e.gesture.stopDetect()})})})}(jQuery),!function(n){n(window).on("load",function(){n(".p-checkboxlist.order").removeClass("order").addClass("ordered").find(":checkbox").click(function(){var e=n(this),t=e.closest("label"),a=e.closest(".p-checkboxlist").find("hr");t.fadeOut(function(){e.is(":checked")?t.insertBefore(a):t.insertAfter(a),t.fadeIn()})})})}(jQuery),!function(a){var n={},r="div.p-datepicker, div.p-datetimepicker, div.p-timepicker";function i(){if(void 0===a.fn.datetimepicker)setTimeout(i,100);else{for(var e in n)if(!a.fn.datetimepicker.dates[e])return void setTimeout(i,100);a(r).datetimepicker()}}a(window).on("load",function(){var e,t=a(r);t.size()&&((e=t.data("datetimepickerCss"))&&a.jcss(e),(e=t.data("datetimepickerJs"))&&a.jscript(e,function(){t.each(function(){var e=a(this).data("language"),t=a(this).data("datetimepickerLangJs");e&&t&&!n[e]&&(a.jscript(t),n[e]=t)})}),i())})}(jQuery),"undefined"==typeof panda&&(panda={}),!function(a){function n(){var n=a(this),r=a("#"+n.attr("id")+"_alert").empty();return n.find(".has-error").removeClass("has-error").end().find(".p-field-errors").remove(),n.isLoadMasked()||n.loadmask(),a.ajax({url:n.data("ajaxAction"),method:"post",data:n.serializeArray(),dataType:"json",success:function(e){r.palert("actionAlert",e,n),e.result&&(n.vals(e.result),n.find("div.p-datepicker, div.p-datetimepicker, div.p-timepicker").each(function(){var e=a(this).find("input").val();e&&a(this).datetimepicker("setValue",new Date(e))})),r.children().length&&r.scrollIntoView()},error:function(e,t,a){r.palert("ajaxJsonError",e,t,a,n.data("ajaxServerError"))},complete:function(){n.unloadmask()}}),!1}function r(e){e.data("hooked")||0<e.closest(".p-popup, .p-inner").length&&(e.data("hooked",!0),e.submit(function(e){var n,t;return e.preventDefault(),e=a(this),n=e.closest(".p-popup, .p-inner"),t=e.serializeArray(),n.hasClass("p-inner")?t.push({name:"__inner",value:"true"}):t.push({name:"__popup",value:"true"}),"false"!=e.attr("loadmask")&&n.parent().loadmask(),a.ajax({url:e.attr("action"),data:t,dataType:"html",success:function(e,t,a){n.parent().html(e)},error:function(e,t,a){n.parent().html(e.responseText)},complete:function(e,t){n.parent().unloadmask()}}),!1}))}a(window).on("load",function(){a("form").each(function(){var e,t=a(this);(e=t).data("actionHooked")||e.data("actionHooked",!0).find("input[data-action], button[data-action]").click(function(){a(this).closest("form").attr("action",a(this).data("action"))}),"_self"!=(e=(e=t).attr("target")||"_self")&&"_top"!=e&&"_parent"!=e||(r(t),panda.enable_loadmask_form&&!(e=t).data("hooked")&&20<e.height()&&"false"!=e.attr("loadmask")&&(e.data("hooked",!0),e.submit(function(){a(this).loadmask()})),!(e=t).data("ajaxSubmitHooked")&&e.data("ajaxAction")&&e.data("ajaxSubmitHooked",!0).submit(n))})})}(jQuery),!function(o){var r={};function i(){if(void 0===o.fn.summernote)setTimeout(i,100);else{for(var e in r)if(!o.summernote.lang[e])return void setTimeout(i,100);o.extend(o.summernote.plugins,{media:function(e){var t=o.summernote.ui,n=e.$note;e.memo("button.media",function(){function a(e){if(o.popup().hide(),e)for(var t=0;t<e.length;t++)n.summernote("insertImage",e[t].href,e[t].name)}return t.button({contents:'<i class="'+(n.data("mediaIcon")||"fa fa-list-alt")+'"/>',tooltip:n.data("mediaText")||"Media Browser",click:function(){var e=n.data("mediaHref"),t=(t=n.data("mediaPopupId"))||(n.attr("id")||n.attr("name")||e.hashCode())+"_media_popup";o.popup({id:t,url:e}).show({id:t,trigger:this,popover:!0,onpopup:null,onhide:null,callback:a})}}).render()}),this.destroy=function(){this.$panel.remove(),this.$panel=null}}}),o("textarea.p-htmleditor.p-summernote").each(function(){for(var e=o(this),t={},a=["toolbar","popover","fontNames","fontNamesIgnoreCheck"],n=0;n<a.length;n++){var r=e.attr(a[n]);if(r)try{t[a[n]]=JSON.parse(r)}catch(e){}}o.extend(t,e.data("summernoteOptions"));var i=e.data("summernoteLang");i&&(t.lang=i),e.attr("readonly")?(e.parent().addClass("p-htmleditor-readonly"),e.summernote(o.extend(t,{toolbar:!1})).summernote("disable")):(i=["picture","video"],e.data("mediaHref")&&i.push("media"),e.summernote(o.extend({height:e.attr("height"),followingToolbar:e.attr("followingToolbar")||!1,toolbar:[["style",["style","fontname","fontsize","color"]],["text",["bold","italic","underline","strikethrough","superscript","subscript"]],["para",["paragraph","ol","ul"]],["insert",["hr","table","link"]],["media",i],["edit",["undo","redo","clear"]],["misc",["codeview","fullscreen","help"]]]},t)))})}}function s(){void 0===o.fn.cleditor?setTimeout(s,100):o("textarea.p-htmleditor.p-cleditor").cleditor()}o(window).on("load",function(){var e,t,a=o("textarea.p-htmleditor.p-summernote"),n=(a.size()&&((e=a.data("summernoteCss"))&&o.jcss(e),(t=a.data("summernoteJs"))&&o.jscript(t,function(){a.each(function(){var e=o(this).data("summernoteLang"),t=o(this).data("summernoteLangJs");e&&t&&!r[e]&&(o.jscript(t),r[e]=t)})}),i()),o("textarea.p-htmleditor.p-cleditor"));n.size()&&((e=n.data("cleditorCss"))&&o.jcss(e),(t=n.data("cleditorJs"))&&o.jscript(t,!0),s())})}(jQuery),"undefined"==typeof panda&&(panda={}),panda.loading=function(e){$("body").loadmask({mask:!1,fixed:!0,timeout:e||1e3})},panda.page_sort=function(e,t){return panda.loading(),location.href=$.addQueryParams(location.href,{"s.c":e,"s.d":t}),!1},panda.page_sort_reverse=function(e,t){return panda.page_sort(e,"asc"==t.toLowerCase()?"desc":"asc")},panda.page_goto=function(e){return panda.loading(),location.href=$.addQueryParams(location.href,{"p.s":e}),!1},panda.page_limit=function(e){return panda.loading(),location.href=$.addQueryParams(location.href,{"p.l":e}),!1},!function(e){e(window).on("load",function(){e("div.p-lv").each(function(){_plv_init(e(this))})})}(jQuery),"undefined"==typeof panda&&(panda={}),panda.meta_props=function(){var a={};return $("meta").each(function(){var e=$(this),t=e.attr("property");t&&t.startsWith("s:")&&(e=e.attr("content"),a[t.substring(2)]=e)}),a},!function(e){e(window).on("load",function(){e(".navbar-toggle").click(function(){e(this).toggleClass("active")})})}(jQuery),jQuery(window).on("load",function(){for(var e in window)e.startsWith("onPageLoad")&&"function"==typeof window[e]&&(window[e](),window[e]=null)}),!function(){function _click(evt){var $el=$(this),pn,$pg,js;$el.parent().hasClass("disabled")?evt.preventDefault():(pn=$el.attr("pageno"),0<=pn&&($pg=$el.closest(".p-pager"),js=$pg.data("click"),js&&(js=js.replace("$",pn),js=js.replace("#",(pn-1)*$pg.data("limit")),!1===eval(js)&&evt.preventDefault())))}function _setActivePage(e,t){var a=e.find("ul.pagination"),n=(a.find("li.active").removeClass("active"),a.find("li.p-pager-page")),r=e.data("pages"),i=t-Math.floor(n.size()/2),e=((i=i+n.size()>r?r-n.size()+1:i)<1&&(i=1),e.data("style"));1<t?(a.find(".p-pager-first, .p-pager-prev").removeClass("hidden disabled"),a.find(".p-pager-prev>a").attr("pageno",t-1)):(a.find(".p-pager-first").addClass(e.contains("F")?"disabled":"hidden"),a.find(".p-pager-prev").addClass(e.contains("P")?"disabled":"hidden")),a.find(".p-pager-ellipsis-left")[1<i?"removeClass":"addClass"]("hidden"),n.each(function(){$(this).find("a").attr("pageno",i).text(i),i==t&&$(this).addClass("active"),i++}),a.find(".p-pager-ellipsis-right")[i<=r?"removeClass":"addClass"]("hidden"),t<r?(a.find(".p-pager-next, .p-pager-last").removeClass("hidden disabled"),a.find(".p-pager-next>a").attr("pageno",t+1)):(a.find(".p-pager-next").addClass(e.contains("N")?"disabled":"hidden"),a.find(".p-pager-last").addClass(e.contains("L")?"disabled":"hidden"))}$.fn.ppager=function(e,t){return"getActivePage"==e?this.find("ul.pagination>li.active>a").attr("pageno"):"setActivePage"==e?this.each(function(){_setActivePage($(this),t)}):this.each(function(){var e=$(this);"true"!=e.attr("ppager")&&(e.attr("ppager","true"),e.data("click")&&e.find("a[pageno]").click(_click))})},$(window).on("load",function(){$('[data-spy="ppager"]').ppager()})}(),!function(){function t(e,t){var a=this.scrollLeft;this.scrollLeft-=40*t,a!=this.scrollLeft&&e.preventDefault()}$(window).on("load",function(){$(".p-panel-hscroll .panel-body").each(function(){var e=$(this);e.data("pwheelpanel")||e.data("pwheelpanel",!0).mousewheel(t)})})}(),!function(a){function e(e){var t;e.data("pqueryer")||(e.data("pqueryer",!0),(t=e).find(".p-qr-filters").find(".form-group").each(function(){a(this).hasClass("p-hidden")&&a(this).find("input,select,textarea").prop("disabled",!0)}).end().find(".p-qr-remove").click(i).end().find(".p-qr-clear").click(o).end().find(".p-qr-select").change(r).end().find(".p-qr-f-number-c, .p-qr-f-date-c, .p-qr-f-datetime-c, .p-qr-f-time-c").on("change",n).end().find("form").submit(function(){t.loadmask()}))}function t(){switch(this.tagName){case"INPUT":switch(this.type){case"radio":"m"==this.name||this.name.endsWith(".m")||(this.checked=!1);break;case"checkbox":this.checked=!1;break;case"text":this.value=""}break;case"SELECT":this.name.endsWith(".c")||(this.selectedIndex=0);break;case"TEXTAREA":this.value=""}}function n(){var e=a(this);"bt"==e.val()?e.nextAll().removeClass("p-hidden").find("INPUT").prop("disabled",!1):e.nextAll().addClass("p-hidden").find("INPUT").prop("disabled",!0)}function r(){var e=this;return 0<e.selectedIndex&&(a(e).closest(".p-qr-filters").find(".p-qr-fsi-"+e.value).removeClass("p-hidden").find("input,select,textarea").prop("disabled",!1).end().end().fieldset("expand"),e.options[e.selectedIndex].disabled=!0,e.selectedIndex=0),!1}function i(){var e=a(this).closest(".form-group");e.addClass("p-hidden").find("input,select,textarea").prop("disabled",!0).each(t).end().find(".p-label-error").removeClass("p-label-error").end().find(".p-field-errors").remove().end().closest(".p-qr-filters").find(".p-qr-select > option[value="+e.data("item")+"]").prop("disabled",!1)}function o(){return a(this).closest(".p-qr-form").find(".p-field-errors").remove().end().find(".p-label-error").removeClass("p-label-error").end().find("input,select,textarea").each(t),!1}a(window).on("load",function(){a("div.p-qr").each(function(){e(a(this))})})}(jQuery),!function(a){a(window).on("load",function(){var e,t=a(".p-totop");0<t.size()&&(t.click(function(){a("html,body").animate({scrollTop:0},"slow")}),(e=a(window)).scroll(function(){t[e.scrollTop()>e.height()?"show":"hide"]()}))})}(jQuery),!function(r){r.fn.ptrigger=function(n){return n=r.extend({icon:"fa fa-remove"},n),this.each(function(){var e,t,a=r(this);a.data("ptriggerHooked")||(a.data("ptriggerHooked",!0),(e=n.onclick||a.data("ptrigger"))&&"false"!=e&&(t=n.icon||a.data("ptrigger-icon"),t=r('<i class="p-trigger '+t+'"></i>'),a.addClass("p-has-trigger"),t.insertAfter(a).click(function(){e&&"true"!=e&&1!=e?panda_call(e,a.get(0)):""!=a.val()&&a.val("").trigger("change")})))})},r(window).on("load",function(){r("[data-ptrigger]").ptrigger()})}(jQuery),!function(y){function t(p){var t,e,c,a,u,i,n;function o(e){var t=e.name,a=(a=e.name,n=a.lastIndexOf("/"),r=a.lastIndexOf("\\"),a.substr((r<n?n:r)+1)),n=e.size,r=e.typ||"",e=p.data("dnloadLink"),i=p.data("dnloadName"),o=JSON.sparse(p.data("dnloadData")),s=y("<div>").addClass("p-uploader-item").insertAfter(u),l=y("<input>").attr("type","hidden").attr("name",p.data("name")).addClass("p-uploader-fid").appendTo(s),d=y("<span>").addClass("p-uploader-text").appendTo(s),s=y("<div>").addClass("p-uploader-image").appendTo(s),l=(l.val(t||""),a=a||t||c.val(),null),i=(e&&t&&((o=y.extend({},o))[i]=t,l=e+"?"+y.param(o)),r.startsWith("image/"));a&&(e='<i class="fa fa-'+(i?"image":"paperclip")+' p-uploader-icon"></i> '+a+" "+(t=n,t=0<(t=Number.formatSize(t)).length?"("+t+")":t),(l?y("<a>").attr("href",l):y("<span>")).html(e).appendTo(d)),y("<i>").addClass("p-uploader-remove fa fa-remove").click(f).appendTo(d),i&&l&&(o=y("<a>").attr("href",l),y("<img>").addClass("img-thumbnail").attr("src",l).appendTo(o),o.appendTo(s).fadeIn())}function r(e){n.children(".progress-bar").css({width:e+"%"})}function f(){y(this).closest(".p-uploader-item").fadeOut(function(){y(this).remove()}),i.empty()}function s(){t=!0,e=0,(a.length?a:c).addClass("p-hidden"),i.empty(),r(0),n.show()}function l(){r(e++),e<90&&setTimeout(l,20)}function d(e){e.lengthComputable&&r(Math.round(100*e.loaded/e.total))}function h(){r(100),n.hide(),c.val(""),(a.length?a:c).removeClass("p-hidden"),t=!1}function v(e){if(h(),i.palert("actionAlert",e),e.success&&(n=e,r=p.data("onUploaded"),"function"!=typeof window[r]||!window[r](n))){c.attr("multiple")||p.children(".p-uploader-item").remove();var t=e.result;if(y.isArray(t))for(var a=0;a<t.length;a++)o(t[a]);else o(t)}var n,r}function m(e,t,a){h(),i.palert("error",a?a+"":e?e.responseText:t)}function g(){var e;t||""==c.val()||(b&&c[0].files?_(c[0].files):(s(),l(),(e={})[p.data("uploadName")]=c,y.ajaf({url:p.data("uploadLink"),data:JSON.sparse(p.data("uploadData")),file:e,dataType:"json",success:v,error:m})))}function _(e){s();var a=new FormData,t=JSON.sparse(p.data("uploadData"));if(t)for(var n in t)a.append(n,t[n]);e&&y.each(e,function(e,t){a.append(p.data("uploadName"),t)}),y.ajax({url:p.data("uploadLink"),type:"POST",data:a,dataType:"json",cache:!1,contentType:!1,processData:!1,xhr:function(){var e=y.ajaxSettings.xhr();return e.upload.addEventListener("progress",d),e},success:v,error:m})}p.data("puploader")||(p.data("puploader",!0),t=!1,e=0,c=p.children(".p-uploader-file"),a=p.children(".p-uploader-btn"),u=p.children(".p-uploader-sep"),i=p.children(".p-uploader-error"),(n=y('<div class="p-uploader-progress progress progress-striped" style="display: none"><div class="progress-bar progress-bar-info" style="width: 0%"></div></div>')).insertAfter(0<a.length?a:c),i.length<1&&(i=y('<div class="p-uploader-error"></div>').insertAfter(n)),u.length<1&&(u=y('<div class="p-uploader-sep"></div>').insertAfter(i)),c.change(function(){setTimeout(g,10)}),a.click(function(e){return e.preventDefault(),c.trigger("click"),!1}),b&&p.addClass("p-uploader-draggable").on("drag dragstart dragend dragover dragenter dragleave drop",function(e){e.preventDefault(),e.stopPropagation()}).on("dragover dragenter",function(){p.addClass("p-uploader-dragover")}).on("dragleave dragend drop",function(){p.removeClass("p-uploader-dragover")}).on("drop",function(e){e.preventDefault(),t||_(e.originalEvent.dataTransfer.files)}))}var e,b=("draggable"in(e=document.createElement("div"))||"ondragstart"in e&&"ondrop"in e)&&"FormData"in window&&"FileReader"in window;y.fn.puploader=function(e){return this.each(function(){t(y(this))})},y(window).on("load",function(){y('[data-spy="puploader"]').puploader()})}(jQuery),!function(n){n(window).on("load",function(){n(".p-viewfield").prev("input").change(function(){var e=n(this).val();n(this).next(".p-viewfield").text(""==e?"　":e)}),n('.p-viewfield[data-format="html"]').each(function(){n('<a href="#" class="p-vf-code"><i class="fa fa-code"></i></a>').appendTo(n(this).parent())}),n(".p-vf-code").click(function(){var e=n(this),t=e.toggleClass("active").parent(),a=t.find("input").val();return t.find(".p-viewfield")[e.hasClass("active")?"text":"html"](a),!1})})}(jQuery);
//# sourceMappingURL=panda.min.js.map
