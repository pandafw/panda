!function(l){var s=null!=window.orientation,e=l.browser.opera||l.browser.mozilla&&parseFloat(l.browser.version.substr(0,3))<1.9?"input":"paste";function t(e){var t=this;(e=l.event.fix(e||window.e)).type="paste",setTimeout(function(){l.event.handle.call(t,e)},1)}l.event.special.paste={setup:function(){this.addEventListener?this.addEventListener(e,t,!1):this.attachEvent&&this.attachEvent(e,t)},teardown:function(){this.removeEventListener?this.removeEventListener(e,t,!1):this.detachEvent&&this.detachEvent(e,t)}},l.extend({meiomask:{rules:{z:/[a-z]/,Z:/[A-Z]/,a:/[a-zA-Z]/,"*":/[0-9a-zA-Z]/,"@":/[0-9a-zA-ZçÇáàãâéèêíìóòôõúùü]/},keyRepresentation:{8:"backspace",9:"tab",13:"enter",16:"shift",17:"control",18:"alt",27:"esc",33:"page up",34:"page down",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete",116:"f5",123:"f12",224:"command"},iphoneKeyRepresentation:{10:"go",127:"delete"},signals:{"+":"","-":"-"},options:{attr:"mask",mask:null,type:"fixed",maxLength:-1,defaultValue:"",signal:!1,textAlign:!0,selectCharsOnFocus:!0,autoTab:!1,setSize:!1,fixedChars:"[(),.:/ -]",onInvalid:function(){},onValid:function(){},onOverflow:function(){}},masks:{cc:{mask:"9999 9999 9999 9999"},date:{mask:"9999-19-39"},time:{mask:"29:59:59"},datetime:{mask:"9999-19-39 29:59:59"},timestamp:{mask:"9999-19-39 29:59:59.999"},phone:{mask:"999-9999-9999"},zipcode:{mask:"999-9999"},int:{mask:"999,999,999,9",type:"reverse"},sint:{mask:"999,999,999,9",type:"reverse",defaultValue:"+"},long:{mask:"999,999,999,999,999,999,99",type:"reverse"},slong:{mask:"999,999,999,999,999,999,99",type:"reverse",defaultValue:"+"},dec:{mask:"99.999,999,999,999",type:"reverse",defaultValue:"000"},sdec:{mask:"99.999,999,999,999",type:"reverse",defaultValue:"+000"}},init:function(){if(!this.hasInit){var e,t=this,a=s?this.iphoneKeyRepresentation:this.keyRepresentation;for(this.ignore=!1,e=0;e<=9;e++)this.rules[e]=new RegExp("[0-"+e+"]");this.keyRep=a,this.ignoreKeys=[],l.each(a,function(e){t.ignoreKeys.push(parseInt(e))}),this.hasInit=!0}},set:function(e,r){var i=this,e=l(e),h="maxLength";return r=r||{},this.init(),e.each(function(){r.attr&&(i.options.attr=r.attr);var e,t,a=l(this),s=l.extend({},i.options),n=a.attr(s.attr);(n="string"==typeof r?r:""!=n?n:null)&&(s.mask=n),i.masks[n]&&(s=l.extend(s,i.masks[n])),"object"==typeof r&&r.constructor!=Array&&(s=l.extend(s,r)),null!=(s=l.metadata?l.extend(s,a.metadata()):s).mask&&(a.data("mask")&&i.unset(a),n=s.defaultValue,e="reverse"==s.type,t=new RegExp(s.fixedChars,"g"),-1==s.maxLength&&(s.maxLength=a.attr(h)),"fixed"!=(s=l.extend({},s,{fixedCharsReg:new RegExp(s.fixedChars),fixedCharsRegG:t,maskArray:s.mask.split(""),maskNonFixedCharsArray:s.mask.replace(t,"").split("")})).type&&!e||!s.setSize||a.attr("size")||a.attr("size",s.mask.length),e&&s.textAlign&&a.css("text-align","right"),""==this.value&&""==n||(t=i.string(""!=this.value?this.value:n,s),this.defaultValue=t,a.val(t)),"infinite"==s.type&&(s.type="repeat"),a.data("mask",s),a.removeAttr(h),a.bind("keydown.mask",{func:i._onKeyDown,thisObj:i},i._onMask).bind("keypress.mask",{func:i._onKeyPress,thisObj:i},i._onMask).bind("keyup.mask",{func:i._onKeyUp,thisObj:i},i._onMask).bind("paste.mask",{func:i._onPaste,thisObj:i},i._onMask).bind("focus.mask",i._onFocus).bind("blur.mask",i._onBlur).bind("change.mask",i._onChange))})},unset:function(e){return l(e).each(function(){var e,t=l(this);t.data("mask")&&(-1!=(e=t.data("mask").maxLength)&&t.attr("maxLength",e),t.unbind(".mask").removeData("mask"))})},string:function(e,t){this.init();var a={};switch("string"!=typeof e&&(e=String(e)),typeof t){case"string":this.masks[t]?a=l.extend(a,this.masks[t]):a.mask=t;break;case"object":a=t}a.fixedChars||(a.fixedChars=this.options.fixedChars);var s,n=new RegExp(a.fixedChars),r=new RegExp(a.fixedChars,"g");return"reverse"==a.type&&a.defaultValue&&void 0!==this.signals[a.defaultValue.charAt(0)]&&(s=e.charAt(0),a.signal=void 0!==this.signals[s]?this.signals[s]:this.signals[a.defaultValue.charAt(0)],a.defaultValue=a.defaultValue.substring(1)),this.__maskArray(e.split(""),a.mask.replace(r,"").split(""),a.mask.split(""),a.type,a.maxLength,a.defaultValue,n,a.signal)},_onFocus:function(e){var t=l(this),a=t.data("mask");a.inputFocusValue=t.val(),a.changed=!1,a.selectCharsOnFocus&&t.select()},_onBlur:function(e){var t=l(this),a=t.data("mask");a.inputFocusValue==t.val()||a.changed||t.trigger("change")},_onChange:function(e){l(this).data("mask").changed=!0},_onMask:function(e){var t=e.data.thisObj,a={};return a._this=e.target,a.$this=l(a._this),!!a.$this.attr("readonly")||(a.data=a.$this.data("mask"),a[a.data.type]=!0,a.value=a.$this.val(),a.nKey=t.__getKeyNumber(e),a.range=t.__getRange(a._this),a.valueArray=a.value.split(""),e.data.func.call(t,e,a))},_onKeyDown:function(e,t){var a;return this.ignore=-1<l.inArray(t.nKey,this.ignoreKeys)||e.ctrlKey||e.metaKey||e.altKey,this.ignore&&(a=this.keyRep[t.nKey],t.data.onValid.call(t._this,a||"",t.nKey)),!s||this._keyPress(e,t)},_onKeyUp:function(e,t){return 9==t.nKey||16==t.nKey||("repeat"==t.data.type?(this.__autoTab(t),!0):this._onPaste(e,t))},_onPaste:function(e,t){t.reverse&&this.__changeSignal(e.type,t);e=this.__maskArray(t.valueArray,t.data.maskNonFixedCharsArray,t.data.maskArray,t.data.type,t.data.maxLength,t.data.defaultValue,t.data.fixedCharsReg,t.data.signal);return t.$this.val(e),!t.reverse&&t.data.defaultValue.length&&t.range.start==t.range.end&&this.__setRange(t._this,t.range.start,t.range.end),!l.browser.msie&&!l.browser.safari||t.reverse||this.__setRange(t._this,t.range.start,t.range.end),this.ignore||this.__autoTab(t),!0},_onKeyPress:function(e,t){if(this.ignore)return!0;t.reverse&&this.__changeSignal(e.type,t);var a=String.fromCharCode(t.nKey),s=t.range.start,n=t.value,r=t.data.maskArray,n=(t.reverse&&(n=n.substr(0,s)+a+n.substr(t.range.end,n.length),t.data.signal)&&0<s-t.data.signal.length&&(s-=t.data.signal.length),n.replace(t.data.fixedCharsRegG,"").split("")),i=this.__extraPositionsTill(s,r,t.data.fixedCharsReg);if(t.rsEp=s+i,t.repeat&&(t.rsEp=0),!this.rules[r[t.rsEp]]||-1!=t.data.maxLength&&n.length>=t.data.maxLength&&t.repeat)return t.data.onOverflow.call(t._this,a,t.nKey),!1;if(!this.rules[r[t.rsEp]].test(a))return t.data.onInvalid.call(t._this,a,t.nKey),!1;t.data.onValid.call(t._this,a,t.nKey);s=this.__maskArray(n,t.data.maskNonFixedCharsArray,r,t.data.type,t.data.maxLength,t.data.defaultValue,t.data.fixedCharsReg,t.data.signal,i);return t.$this.val(s),t.reverse?this._keyPressReverse(e,t):!t.fixed||this._keyPressFixed(e,t)},_keyPressFixed:function(e,t){return t.range.start==t.range.end?(0==t.rsEp&&0==t.value.length||t.rsEp<t.value.length)&&this.__setRange(t._this,t.rsEp,t.rsEp+1):this.__setRange(t._this,t.range.start,t.range.end),!0},_keyPressReverse:function(e,t){return l.browser.msie&&(0==t.range.start&&0==t.range.end||t.range.start!=t.range.end)&&this.__setRange(t._this,t.value.length),!1},__autoTab:function(e){var t;e.data.autoTab&&(e.$this.val().length>=e.data.maskArray.length&&!e.repeat||-1!=e.data.maxLength&&e.valueArray.length>=e.data.maxLength&&e.repeat)&&(t=this.__getNextInput(e._this,e.data.autoTab))&&(e.$this.trigger("blur"),t.focus().select())},__changeSignal:function(e,t){!1!==t.data.signal&&(e="paste"==e?t.value.charAt(0):String.fromCharCode(t.nKey),this.signals)&&void 0!==this.signals[e]&&(t.data.signal=this.signals[e])},__getKeyNumber:function(e){return e.charCode||e.keyCode||e.which},__maskArray:function(e,t,a,s,n,r,i,h,l){switch("reverse"==s&&e.reverse(),e=this.__removeInvalidChars(e,t,"repeat"==s||"infinite"==s),r&&(e=this.__applyDefaultValue.call(e,r)),e=this.__applyMask(e,a,l,i),s){case"reverse":return e.reverse(),(h||"")+e.join("").substring(e.length-a.length);case"infinite":case"repeat":var o=e.join("");return-1!=n&&e.length>=n?o.substring(0,n):o;default:return e.join("").substring(0,a.length)}return""},__applyDefaultValue:function(e){for(var t=e.length,a=this.length-1;0<=a&&this[a]==e.charAt(0);a--)this.pop();for(a=0;a<t;a++)this[a]||(this[a]=e.charAt(a));return this},__removeInvalidChars:function(e,t,a){for(var s=0,n=0;s<e.length;s++)t[n]&&this.rules[t[n]]&&!this.rules[t[n]].test(e[s])&&(e.splice(s,1),a||n--,s--),a||n++;return e},__applyMask:function(e,t,a,s){void 0===a&&(a=0);for(var n=0;n<e.length+a;n++)t[n]&&s.test(t[n])&&e.splice(n,0,t[n]);return e},__extraPositionsTill:function(e,t,a){for(var s=0;a.test(t[e++]);)s++;return s},__getNextInput:function(e,t){for(var a=e.form.elements,s=null,n=l.inArray(e,a)+1;n<a.length;n++)if(s=l(a[n]),this.__isNextInput(s,t))return s;for(var r,i=document.forms,h=l.inArray(e.form,i)+1;h<i.length;h++)for(r=i[h].elements,n=0;n<r.length;n++)if(s=l(r[n]),this.__isNextInput(s,t))return s;return null},__isNextInput:function(e,t){var a=e.get(0);return a&&(0<a.offsetWidth||0<a.offsetHeight)&&"FIELDSET"!=a.nodeName&&(!0===t||"string"==typeof t&&e.is(t))},__setRange:function(e,t,a){void 0===a&&(a=t),e.setSelectionRange?e.setSelectionRange(t,a):((e=e.createTextRange()).collapse(),e.moveStart("character",t),e.moveEnd("character",a-t),e.select())},__getRange:function(e){var t,a;return l.browser.msie?(t={start:0,end:0},a=document.selection.createRange(),t.start=0-a.duplicate().moveStart("character",-1e5),t.end=t.start+a.text.length,t):{start:e.selectionStart,end:e.selectionEnd}},unmaskedVal:function(e){return l(e).val().replace(l.meiomask.fixedCharsRegG,"")}}}),l.fn.extend({setMask:function(e){return l.meiomask.set(this,e)},unsetMask:function(){return l.meiomask.unset(this)},unmaskedVal:function(){return l.meiomask.unmaskedVal(this[0])}})}(jQuery);
//# sourceMappingURL=jquery.ui.meio.mask.min.js.map